#DEPENDENCIES:
#   Selenium
#   Splinter (wrapper for selenium)
#   Geckodriver (driver to remotely control firefox) 
#   Pynput (to submit the first junk note)

import time
from splinter import Browser
from pynput.keyboard import Key, Controller
import string
import random
keyboard = Controller() #initialise modules and create keyboard object for keyboard control

charlength=int(input("Enter the length of text to input: ")) #provide length of text to type
                                                            #recommended values are 1000-5000

repetitions=int(input("Enter the number of notes to create: ")) #provide number of notes to create
letters=string.ascii_letters #create list of letters to type
f=open("input.txt", "w") #generate text file to read from - length is determined by charlength
for count in range(0,1+charlength):
    index=random.randint(0,len(letters)-1)
    f.write(letters[index]) #write random letter to text file
f.close()

browser = Browser('firefox') #open firefox browser remotely via splinter
f=open("input.txt", "r")
texttoinput = f.readline()
browser.visit('http://127.0.0.1:8080/') #go to page via remote controlled browser
for i in range(0,repetitions): #find note field and submit notes
     
     browser.find_by_name('note').type(texttoinput) #type text to note field via splinter
     keyboard.press(Key.enter) #pynput is needed as splinter cannot press a nameless button
     keyboard.release(Key.enter)
     time.sleep(0.1) #delays note creation slightly - splinter is a bit too fast for the browser to keep up with 
                     #and often misses note creation without a short wait